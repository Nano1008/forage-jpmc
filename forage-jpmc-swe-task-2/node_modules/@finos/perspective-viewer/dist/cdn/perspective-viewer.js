import{c as Mt}from"./chunk.js";var Ft=`
.dnd-poly-drag-image {
    opacity: .5 !important;
}
.dnd-poly-drag-image.dnd-poly-snapback {
    transition-property: transform, -webkit-transform !important;
    transition-duration: 250ms !important;
    transition-timing-function: ease-out !important;
}
`,ze=document.createElement("style");ze.textContent=Ft;document.head.appendChild(ze);var K="dnd-poly-",Rt=K+"drag-image",Ut=K+"snapback",Wt=K+"icon",je="dnd-poly-",Vt=je+"dragstart-pending",Ht=je+"dragstart-cancel",D=["none","copy","copyLink","copyMove","link","linkMove","move","all"],v=["none","copy","move","link"];function Xt(){let r={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},t=!!window.chrome||/chrome/i.test(navigator.userAgent);return r.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&"ontouchstart"in document.documentElement),r}function Yt(){let r=!1;try{let t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,t)}catch{}return r}var Ze=Yt();function ne(r){return r&&r.tagName}function q(r,t,i){i===void 0&&(i=!0),document.addEventListener(r,t,Ze?{passive:i}:!1)}function Ee(r,t){document.removeEventListener(r,t)}function re(r,t,i,a){a===void 0&&(a=!1);let e=Ze?{passive:!0,capture:a}:a;return r.addEventListener(t,i,e),{off:function(){r.removeEventListener(t,i,e)}}}function Qe(r,t){if(r.nodeType===1){let i=getComputedStyle(r);for(let a=0;a<i.length;a++){let e=i[a];t.style.setProperty(e,i.getPropertyValue(e),i.getPropertyPriority(e))}if(t.style.pointerEvents="none",t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("draggable"),t.nodeName==="CANVAS"){let a=r,e=t,n=a.getContext("2d").getImageData(0,0,a.width,a.height);e.getContext("2d").putImageData(n,0,0)}}if(r.hasChildNodes())for(let i=0;i<r.childNodes.length;i++)Qe(r.childNodes[i],t.childNodes[i])}function Bt(r){let t=r.cloneNode(!0);return Qe(r,t),t}function $e(r){return r.length===0?0:r.reduce(function(t,i){return i+t},0)/r.length}function Je(r,t){for(let i=0;i<r.changedTouches.length;i++)if(r.changedTouches[i].identifier===t)return!0;return!1}function Te(r,t,i){let a=[],e=[];for(let n=0;n<t.touches.length;n++){let o=t.touches[n];a.push(o[r+"X"]),e.push(o[r+"Y"])}i.x=$e(a),i.y=$e(e)}var Le=["","-webkit-"];function Gt(r){return Le.map(function(t){let i=r.style[t+"transform"];return!i||i==="none"?"":i.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,"")})}function ie(r,t,i,a,e){e===void 0&&(e=!0);let n=t.x,o=t.y;a&&(n+=a.x,o+=a.y),e&&(n-=parseInt(r.offsetWidth,10)/2,o-=parseInt(r.offsetHeight,10)/2);let u="translate3d("+n+"px,"+o+"px, 0)";for(let f=0;f<Le.length;f++){let d=Le[f]+"transform";r.style[d]=u+" "+i[f]}}function Kt(r,t,i,a){let e=getComputedStyle(r);if(e.visibility==="hidden"||e.display==="none"){console.log("dnd-poly: source node is not visible. skipping snapback transition."),a();return}t.classList.add(Ut);let n=getComputedStyle(t),o=parseFloat(n.transitionDuration);if(isNaN(o)||o===0){console.log("dnd-poly: no transition used - skipping snapback"),a();return}console.log("dnd-poly: starting dragimage snap back");let u=r.getBoundingClientRect(),f={x:u.left,y:u.top};f.x+=document.body.scrollLeft||document.documentElement.scrollLeft,f.y+=document.body.scrollTop||document.documentElement.scrollTop,f.x-=parseInt(e.marginLeft,10),f.y-=parseInt(e.marginTop,10);let d=parseFloat(n.transitionDelay),w=Math.round((o+d)*1e3);ie(t,f,i,void 0,!1),setTimeout(a,w)}var qt=function(){function r(t,i){this._dataStore=t,this._setDragImageHandler=i,this._dropEffect=v[0]}return Object.defineProperty(r.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dataStore.mode!==0&&D.indexOf(t)>-1&&(this._dropEffect=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"types",{get:function(){if(this._dataStore.mode!==0)return Object.freeze(this._dataStore.types)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"effectAllowed",{get:function(){return this._dataStore.effectAllowed},set:function(t){this._dataStore.mode===2&&D.indexOf(t)>-1&&(this._dataStore.effectAllowed=t)},enumerable:!0,configurable:!0}),r.prototype.setData=function(t,i){if(this._dataStore.mode===2){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this._dataStore.data[t]=i,this._dataStore.types.indexOf(t)===-1&&this._dataStore.types.push(t)}},r.prototype.getData=function(t){if(this._dataStore.mode===1||this._dataStore.mode===2)return this._dataStore.data[t]||""},r.prototype.clearData=function(t){if(this._dataStore.mode===2){if(t&&this._dataStore.data[t]){delete this._dataStore.data[t];let i=this._dataStore.types.indexOf(t);i>-1&&this._dataStore.types.splice(i,1);return}this._dataStore.data={},this._dataStore.types=[]}},r.prototype.setDragImage=function(t,i,a){this._dataStore.mode===2&&this._setDragImageHandler(t,i,a)},r}();function zt(r){let t=r.target;do if(t.draggable!==!1&&(t.draggable===!0||t.getAttribute&&t.getAttribute("draggable")==="true"))return t;while((t=t.parentNode)&&t!==document.body)}function et(r,t){return r?r===D[0]?v[0]:r.indexOf(D[1])===0||r===D[7]?v[1]:r.indexOf(D[4])===0?v[3]:r===D[6]?v[2]:v[1]:t.nodeType===3&&t.tagName==="A"?v[3]:v[1]}function jt(r,t,i,a,e,n,o){o===void 0&&(o=null);let u=t.changedTouches[0],f=new Event(i,{bubbles:!0,cancelable:a});f.dataTransfer=n,f.relatedTarget=o,f.screenX=u.screenX,f.screenY=u.screenY,f.clientX=u.clientX,f.clientY=u.clientY,f.pageX=u.pageX,f.pageY=u.pageY;let d=r.getBoundingClientRect();return f.offsetX=f.clientX-d.left,f.offsetY=f.clientY-d.top,f}function x(r,t,i,a,e,n,o){n===void 0&&(n=!0),o===void 0&&(o=null),console.log("dnd-poly: dispatching "+r);let u=jt(t,i,r,n,document.defaultView,e,o),f=!t.dispatchEvent(u);return a.mode=0,f}function tt(r,t){if(!r||r===D[7])return t;if(t===v[1]){if(r.indexOf(v[1])===0)return v[1]}else if(t===v[3]){if(r.indexOf(v[3])===0||r.indexOf("Link")>-1)return v[3]}else if(t===v[2]&&(r.indexOf(v[2])===0||r.indexOf("Move")>-1))return v[2];return v[0]}var Zt=function(){function r(t,i,a,e){this._initialEvent=t,this._config=i,this._sourceNode=a,this._dragOperationEndedCb=e,this._dragOperationState=0,this._immediateUserSelection=null,this._currentDropTarget=null,console.log("dnd-poly: setting up potential drag operation.."),this._lastTouchEvent=t,this._initialTouch=t.changedTouches[0],this._touchMoveHandler=this._onTouchMove.bind(this),this._touchEndOrCancelHandler=this._onTouchEndOrCancel.bind(this),q("touchmove",this._touchMoveHandler,!1),q("touchend",this._touchEndOrCancelHandler,!1),q("touchcancel",this._touchEndOrCancelHandler,!1)}return r.prototype._setup=function(){let t=this;console.log("dnd-poly: starting drag and drop operation"),this._dragOperationState=1,this._currentDragOperation=v[0],this._dragDataStore={data:{},effectAllowed:void 0,mode:3,types:[]},this._currentHotspotCoordinates={x:null,y:null},this._dragImagePageCoordinates={x:null,y:null};let i=this._sourceNode;if(this._dataTransfer=new qt(this._dragDataStore,function(e,n,o){i=e,(typeof n=="number"||typeof o=="number")&&(t._dragImageOffset={x:n||0,y:o||0})}),this._dragDataStore.mode=2,this._dataTransfer.dropEffect=v[0],x("dragstart",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer))return console.log("dnd-poly: dragstart cancelled"),this._dragOperationState=3,this._cleanup(),!1;Te("page",this._lastTouchEvent,this._dragImagePageCoordinates);let a=this._config.dragImageSetup(i);if(this._dragImageTransforms=Gt(a),a.style.position="absolute",a.style.left="0px",a.style.top="0px",a.style.zIndex="999999",a.classList.add(Rt),a.classList.add(Wt),this._dragImage=a,!this._dragImageOffset)if(this._config.dragImageOffset)this._dragImageOffset={x:this._config.dragImageOffset.x,y:this._config.dragImageOffset.y};else if(this._config.dragImageCenterOnTouch){let e=getComputedStyle(i);this._dragImageOffset={x:0-parseInt(e.marginLeft,10),y:0-parseInt(e.marginTop,10)}}else{let e=i.getBoundingClientRect(),n=getComputedStyle(i);this._dragImageOffset={x:e.left-this._initialTouch.clientX-parseInt(n.marginLeft,10)+e.width/2,y:e.top-this._initialTouch.clientY-parseInt(n.marginTop,10)+e.height/2}}return ie(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch),document.body.appendChild(this._dragImage),this._iterationIntervalId=window.setInterval(function(){if(t._iterationLock){console.log("dnd-poly: iteration skipped because previous iteration hast not yet finished.");return}t._iterationLock=!0,t._dragAndDropProcessModelIteration(),t._iterationLock=!1},this._config.iterationInterval),!0},r.prototype._cleanup=function(){console.log("dnd-poly: cleanup"),this._iterationIntervalId&&(clearInterval(this._iterationIntervalId),this._iterationIntervalId=null),Ee("touchmove",this._touchMoveHandler),Ee("touchend",this._touchEndOrCancelHandler),Ee("touchcancel",this._touchEndOrCancelHandler),this._dragImage&&(this._dragImage.parentNode.removeChild(this._dragImage),this._dragImage=null),this._dragOperationEndedCb(this._config,this._lastTouchEvent,this._dragOperationState)},r.prototype._onTouchMove=function(t){let i=this;if(Je(t,this._initialTouch.identifier)!==!1){if(this._lastTouchEvent=t,this._dragOperationState===0){let a;if(this._config.dragStartConditionOverride)try{a=this._config.dragStartConditionOverride(t)}catch(e){console.error("dnd-poly: error in dragStartConditionOverride hook: "+e),a=!1}else a=t.touches.length===1;if(!a){this._cleanup();return}this._setup()===!0&&(this._initialEvent.preventDefault(),t.preventDefault());return}if(console.log("dnd-poly: moving draggable.."),t.preventDefault(),Te("client",t,this._currentHotspotCoordinates),Te("page",t,this._dragImagePageCoordinates),this._config.dragImageTranslateOverride)try{let a=!1;if(this._config.dragImageTranslateOverride(t,{x:this._currentHotspotCoordinates.x,y:this._currentHotspotCoordinates.y},this._immediateUserSelection,function(e,n){!i._dragImage||(a=!0,i._currentHotspotCoordinates.x+=e,i._currentHotspotCoordinates.y+=n,i._dragImagePageCoordinates.x+=e,i._dragImagePageCoordinates.y+=n,ie(i._dragImage,i._dragImagePageCoordinates,i._dragImageTransforms,i._dragImageOffset,i._config.dragImageCenterOnTouch))}),a)return}catch(a){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+a)}ie(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch)}},r.prototype._onTouchEndOrCancel=function(t){if(Je(t,this._initialTouch.identifier)!==!1){if(this._config.dragImageTranslateOverride)try{this._config.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(i){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+i)}if(this._dragOperationState===0){this._cleanup();return}t.preventDefault(),this._dragOperationState=t.type==="touchcancel"?3:2}},r.prototype._dragAndDropProcessModelIteration=function(){let t=this,i=this._currentDragOperation;this._dragDataStore.mode=3,this._dataTransfer.dropEffect=v[0];let a=x("drag",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer);if(a&&(console.log("dnd-poly: drag event cancelled."),this._currentDragOperation=v[0]),a||this._dragOperationState===2||this._dragOperationState===3){if(this._dragOperationEnded(this._dragOperationState)){Kt(this._sourceNode,this._dragImage,this._dragImageTransforms,function(){t._finishDragOperation()});return}this._finishDragOperation();return}let e=this._config.elementFromPoint(this._currentHotspotCoordinates.x,this._currentHotspotCoordinates.y);console.log("dnd-poly: new immediate user selection is: "+e);let n=this._currentDropTarget;e!==this._immediateUserSelection&&e!==this._currentDropTarget&&(this._immediateUserSelection=e,this._currentDropTarget!==null&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=v[0],x("dragexit",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)),this._immediateUserSelection===null?(this._currentDropTarget=this._immediateUserSelection,console.log("dnd-poly: current drop target changed to null")):(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=et(this._dragDataStore.effectAllowed,this._sourceNode),x("dragenter",this._immediateUserSelection,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragenter default prevented"),this._currentDropTarget=this._immediateUserSelection,this._currentDragOperation=tt(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect)):this._immediateUserSelection!==document.body&&(this._currentDropTarget=document.body))),n!==this._currentDropTarget&&ne(n)&&(console.log("dnd-poly: current drop target changed."),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=v[0],x("dragleave",n,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1,this._currentDropTarget)),ne(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=et(this._dragDataStore.effectAllowed,this._sourceNode),x("dragover",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)===!1?(console.log("dnd-poly: dragover not prevented on possible drop-target."),this._currentDragOperation=v[0]):(console.log("dnd-poly: dragover prevented."),this._currentDragOperation=tt(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect))),console.log("dnd-poly: d'n'd iteration ended. current drag operation: "+this._currentDragOperation),i!==this._currentDragOperation&&this._dragImage.classList.remove(K+i);let o=K+this._currentDragOperation;this._dragImage.classList.add(o)},r.prototype._dragOperationEnded=function(t){console.log("dnd-poly: drag operation end detected with "+this._currentDragOperation);let i=this._currentDragOperation===v[0]||this._currentDropTarget===null||t===3;return i?ne(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=v[0],x("dragleave",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)):ne(this._currentDropTarget)&&(this._dragDataStore.mode=1,this._dataTransfer.dropEffect=this._currentDragOperation,x("drop",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)===!0?this._currentDragOperation=this._dataTransfer.dropEffect:this._currentDragOperation=v[0]),i},r.prototype._finishDragOperation=function(){console.log("dnd-poly: dragimage snap back transition ended"),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=this._currentDragOperation,x("dragend",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1),this._dragOperationState=2,this._cleanup()},r}(),M={iterationInterval:150,tryFindDraggableTarget:zt,dragImageSetup:Bt,elementFromPoint:function(r,t){return document.elementFromPoint(r,t)}},Ne;function nt(r,t){if(console.log("dnd-poly: global touchstart"),Ne){console.log("dnd-poly: drag operation already active");return}let i=M.tryFindDraggableTarget(r,t);if(!i){console.log("dnd-poly: no draggable at touchstart coordinates");return}try{Ne=new Zt(r,M,i,rt)}catch(a){throw rt(M,r,3),a}}function Qt(r){console.log("dnd-poly: setup delayed dragstart..");let t=r.target,i=r.composedPath(),a=function(){console.log("dnd-poly: starting delayed drag.."),o.off(),u.off(),f.off(),d.off(),nt(r,i)},e=function(w){console.log("dnd-poly: aborting delayed drag because of "+w.type),o.off(),u.off(),f.off(),d.off(),t&&t.dispatchEvent(new CustomEvent(Ht,{bubbles:!0,cancelable:!0})),clearTimeout(n)};t&&t.dispatchEvent(new CustomEvent(Vt,{bubbles:!0,cancelable:!0}));let n=window.setTimeout(a,M.holdToDrag),o=re(t,"touchend",e),u=re(t,"touchcancel",e),f=re(t,"touchmove",e),d=re(window,"scroll",e,!0)}function rt(r,t,i){if(i===0&&(console.log("dnd-poly: Drag never started. Last event was "+t.type),r.defaultActionOverride))try{r.defaultActionOverride(t),t.defaultPrevented&&console.log("dnd-poly: defaultActionOverride has taken care of triggering the default action. preventing default on original event")}catch(a){console.log("dnd-poly: error in defaultActionOverride: "+a)}Ne=null}function $t(r){if(r&&Object.keys(r).forEach(function(t){M[t]=r[t]}),!M.forceApply){let t=Xt();if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}return console.log("dnd-poly: Applying mobile drag and drop polyfill."),M.holdToDrag?(console.log("dnd-poly: holdToDrag set to "+M.holdToDrag),q("touchstart",Qt,!1)):q("touchstart",nt,!1),!0}function Jt(r,t){let i=t||r.composedPath();for(let a of i){let e=a;do if(e.draggable!==!1&&e.getAttribute&&e.getAttribute("draggable")==="true")return e;while((e=e.parentNode)&&e!==document.body)}}function en(r,t){for(let i of this._path)if(i.elementFromPoint){let a=i.elementFromPoint(r,t);if(a){for(;a.shadowRoot;)a=a.shadowRoot.elementFromPoint(r,t);return a}}}function tn(r){return this._path=r.composedPath(),!0}window.addEventListener("touchmove",function(){});$t({tryFindDraggableTarget:Jt,elementFromPoint:en,dragStartConditionOverride:tn,holdToDrag:500});var Oe=class extends HTMLElement{constructor(){super()}get name(){return"Debug"}get select_mode(){return"select"}get min_config_columns(){}get config_column_names(){}async update(t){return this.draw(t)}async draw(t){this.style.backgroundColor="#fff";let i=await t.to_csv(),a="margin:0;overflow:scroll;position:absolute;width:100%;height:100%";this.innerHTML=`<pre style='${a}'>${i}</pre>`}async clear(){this.innerHTML=""}async resize(){}async restyle(){}async save(){}async restore(){}async delete(){}};document.createElement("perspective-viewer-plugin").constructor===HTMLElement&&window.customElements.define("perspective-viewer-plugin",Oe);var U={};Mt(U,{CopyDropDownMenuElement:()=>j,ExportDropDownMenuElement:()=>Z,ExpressionEditorElement:()=>pt,FilterDropDownElement:()=>bt,PerspectiveNumberColumnStyleElement:()=>Q,PerspectiveStringColumnStyleElement:()=>$,PerspectiveViewerElement:()=>A,default:()=>xe,defineWebComponents:()=>mt,getExprTKCommands:()=>Sn,registerPlugin:()=>yn});var it=window.ClipboardItem;var ot="./editor.worker.js";async function rn(){let r=new URL(ot,import.meta.url);return await(await fetch(r)).text()}function st(r,t){function i(e,n){r.push(n)}function a(e){if(Object.keys(e).length>0)for(let n of t)n({data:e})}return{addEventListener:i,postMessage:a,location:{href:""}}}function at(r){let t=Function("const self = arguments[0];"+r),i=[],a=[];return t(st(i,a)),st(a,i)}var on=rn(),ut=async function(){let r=await on;if(window.location.protocol.startsWith("file")&&!window.isElectron)return console.warn("file:// protocol does not support Web Workers"),at(r);try{let t=new Blob([r],{type:"application/javascript"}),i=URL.createObjectURL(t);return new Worker(i,{type:"module"})}catch(t){return console.warn("Failed to instantiate worker, falling back to single-threaded runtime",t),at(r)}};async function lt(){return await ut()}async function ct(){return await import("./edcore.main.js")}var ft=window.ResizeObserver;function _t(r,t,i){let a=U[t],e=a.prototype;class n extends HTMLElement{constructor(){super();this._instance=new a(this)}}let o=Object.getOwnPropertyNames(e);for(let u of o)Object.defineProperty(n.prototype,u,{value:function(...f){return this._instance[u].call(this._instance,...f)}});for(let u of i)Object.defineProperty(n,u,{value:function(...f){return U[u].call(U,...f)}});customElements.define(r,n)}var l,dt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});dt.decode();var oe=null;function se(){return(oe===null||oe.buffer!==l.memory.buffer)&&(oe=new Uint8Array(l.memory.buffer)),oe}function p(r,t){return dt.decode(se().subarray(r,r+t))}var N=new Array(32).fill(void 0);N.push(void 0,null,!0,!1);var z=N.length;function c(r){z===N.length&&N.push(N.length+1);let t=z;return z=N[t],N[t]=r,t}function s(r){return N[r]}var y=0,ae=new TextEncoder("utf-8"),sn=typeof ae.encodeInto=="function"?function(r,t){return ae.encodeInto(r,t)}:function(r,t){let i=ae.encode(r);return t.set(i),{read:r.length,written:i.length}};function S(r,t,i){if(i===void 0){let u=ae.encode(r),f=t(u.length);return se().subarray(f,f+u.length).set(u),y=u.length,f}let a=r.length,e=t(a),n=se(),o=0;for(;o<a;o++){let u=r.charCodeAt(o);if(u>127)break;n[e+o]=u}if(o!==a){o!==0&&(r=r.slice(o)),e=i(e,a,a=o+r.length*3);let u=se().subarray(e+o,e+a);o+=sn(r,u).written}return y=o,e}var ue=null;function _(){return(ue===null||ue.buffer!==l.memory.buffer)&&(ue=new Int32Array(l.memory.buffer)),ue}function g(r){return r==null}var le=null;function ht(){return(le===null||le.buffer!==l.memory.buffer)&&(le=new Float64Array(l.memory.buffer)),le}function an(r){r<36||(N[r]=z,z=r)}function m(r){let t=s(r);return an(r),t}function W(r,t,i,a){let e={a:r,b:t,cnt:1,dtor:i},n=(...o)=>{e.cnt++;let u=e.a;e.a=0;try{return a(u,e.b,...o)}finally{--e.cnt==0?l.__wbindgen_export_2.get(e.dtor)(u,e.b):e.a=u}};return n.original=e,n}function un(r,t){try{let e=l.__wbindgen_add_to_stack_pointer(-16);l.__wbindgen_export_3(e,r,t);var i=_()[e/4+0],a=_()[e/4+1];if(a)throw m(i)}finally{l.__wbindgen_add_to_stack_pointer(16)}}function ln(r,t,i){l.__wbindgen_export_4(r,t,c(i))}function ce(r,t,i,a){let e={a:r,b:t,cnt:1,dtor:i},n=(...o)=>{e.cnt++;try{return a(e.a,e.b,...o)}finally{--e.cnt==0&&(l.__wbindgen_export_2.get(e.dtor)(e.a,e.b),e.a=0)}};return n.original=e,n}function cn(r,t,i){l.__wbindgen_export_5(r,t,c(i))}function fn(r,t,i){let a=l.__wbindgen_export_6(r,t,c(i));return m(a)}function _n(r,t,i){let a=l.__wbindgen_export_7(r,t,c(i));return m(a)}function dn(r,t,i){l.__wbindgen_export_8(r,t,c(i))}function hn(r,t,i,a,e){let n=l.__wbindgen_export_9(r,t,c(i),c(a),c(e));return m(n)}function gn(r,t,i){l.__wbindgen_export_10(r,t,c(i))}function mn(r,t){l.__wbindgen_export_11(r,t)}function pn(r,t,i){l.__wbindgen_export_12(r,t,c(i))}var fe=32;function bn(r){if(fe==1)throw new Error("out of js stack");return N[--fe]=r,fe}function wn(r,t,i){try{l.__wbindgen_export_13(r,t,bn(i))}finally{N[fe++]=void 0}}var _e=null;function gt(){return(_e===null||_e.buffer!==l.memory.buffer)&&(_e=new Uint32Array(l.memory.buffer)),_e}function vn(r,t){let i=t(r.length*4),a=gt();for(let e=0;e<r.length;e++)a[i/4+e]=c(r[e]);return y=r.length,i}function h(r,t){try{return r.apply(this,t)}catch(i){l.__wbindgen_export_14(c(i))}}function yn(r){let t=S(r,l.__wbindgen_export_0,l.__wbindgen_export_1),i=y;l.registerPlugin(t,i)}function Ie(r,t){let a=gt().subarray(r/4,r/4+t),e=[];for(let n=0;n<a.length;n++)e.push(m(a[n]));return e}function Sn(){try{let n=l.__wbindgen_add_to_stack_pointer(-16);l.getExprTKCommands(n);var r=_()[n/4+0],t=_()[n/4+1],i=_()[n/4+2],a=_()[n/4+3];if(a)throw m(i);var e=Ie(r,t).slice();return l.__wbindgen_export_15(r,t*4),e}finally{l.__wbindgen_add_to_stack_pointer(16)}}function mt(){l.defineWebComponents()}function Cn(r,t,i,a){l.__wbindgen_export_16(r,t,c(i),c(a))}var j=class{static __wrap(t){let i=Object.create(j.prototype);return i.ptr=t,i}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_copydropdownmenuelement_free(t)}constructor(t){let i=l.copydropdownmenuelement_new(c(t));return j.__wrap(i)}open(t){l.copydropdownmenuelement_open(this.ptr,c(t))}hide(){try{let a=l.__wbindgen_add_to_stack_pointer(-16);l.copydropdownmenuelement_hide(a,this.ptr);var t=_()[a/4+0],i=_()[a/4+1];if(i)throw m(t)}finally{l.__wbindgen_add_to_stack_pointer(16)}}unsafe_set_model(t){l.copydropdownmenuelement_unsafe_set_model(this.ptr,t)}connected_callback(){l.copydropdownmenuelement_connected_callback(this.ptr)}},Z=class{static __wrap(t){let i=Object.create(Z.prototype);return i.ptr=t,i}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_exportdropdownmenuelement_free(t)}constructor(t){let i=l.exportdropdownmenuelement_new(c(t));return Z.__wrap(i)}open(t){l.exportdropdownmenuelement_open(this.ptr,c(t))}hide(){try{let a=l.__wbindgen_add_to_stack_pointer(-16);l.exportdropdownmenuelement_hide(a,this.ptr);var t=_()[a/4+0],i=_()[a/4+1];if(i)throw m(t)}finally{l.__wbindgen_add_to_stack_pointer(16)}}unsafe_set_model(t){l.exportdropdownmenuelement_unsafe_set_model(this.ptr,t)}connected_callback(){l.exportdropdownmenuelement_connected_callback(this.ptr)}},pt=class{__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_expressioneditorelement_free(t)}},bt=class{__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_filterdropdownelement_free(t)}},Q=class{static __wrap(t){let i=Object.create(Q.prototype);return i.ptr=t,i}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_perspectivenumbercolumnstyleelement_free(t)}constructor(t){let i=l.perspectivenumbercolumnstyleelement_new(c(t));return Q.__wrap(i)}reset(t,i){try{let n=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivenumbercolumnstyleelement_reset(n,this.ptr,c(t),c(i));var a=_()[n/4+0],e=_()[n/4+1];if(e)throw m(a)}finally{l.__wbindgen_add_to_stack_pointer(16)}}open(t,i,a){try{let o=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivenumbercolumnstyleelement_open(o,this.ptr,c(t),c(i),c(a));var e=_()[o/4+0],n=_()[o/4+1];if(n)throw m(e)}finally{l.__wbindgen_add_to_stack_pointer(16)}}close(){try{let a=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivenumbercolumnstyleelement_close(a,this.ptr);var t=_()[a/4+0],i=_()[a/4+1];if(i)throw m(t)}finally{l.__wbindgen_add_to_stack_pointer(16)}}destroy(){try{let a=this.__destroy_into_raw(),e=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivenumbercolumnstyleelement_destroy(e,a);var t=_()[e/4+0],i=_()[e/4+1];if(i)throw m(t)}finally{l.__wbindgen_add_to_stack_pointer(16)}}connected_callback(){l.perspectivenumbercolumnstyleelement_connected_callback(this.ptr)}},$=class{static __wrap(t){let i=Object.create($.prototype);return i.ptr=t,i}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_perspectivestringcolumnstyleelement_free(t)}constructor(t){let i=l.perspectivestringcolumnstyleelement_new(c(t));return $.__wrap(i)}reset(t){try{let e=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivestringcolumnstyleelement_reset(e,this.ptr,c(t));var i=_()[e/4+0],a=_()[e/4+1];if(a)throw m(i)}finally{l.__wbindgen_add_to_stack_pointer(16)}}open(t,i,a){try{let o=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivestringcolumnstyleelement_open(o,this.ptr,c(t),c(i),c(a));var e=_()[o/4+0],n=_()[o/4+1];if(n)throw m(e)}finally{l.__wbindgen_add_to_stack_pointer(16)}}close(){try{let a=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivestringcolumnstyleelement_close(a,this.ptr);var t=_()[a/4+0],i=_()[a/4+1];if(i)throw m(t)}finally{l.__wbindgen_add_to_stack_pointer(16)}}destroy(){try{let a=this.__destroy_into_raw(),e=l.__wbindgen_add_to_stack_pointer(-16);l.perspectivestringcolumnstyleelement_destroy(e,a);var t=_()[e/4+0],i=_()[e/4+1];if(i)throw m(t)}finally{l.__wbindgen_add_to_stack_pointer(16)}}connected_callback(){l.perspectivestringcolumnstyleelement_connected_callback(this.ptr)}},A=class{static __wrap(t){let i=Object.create(A.prototype);return i.ptr=t,i}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();l.__wbg_perspectiveviewerelement_free(t)}constructor(t){let i=l.perspectiveviewerelement_new(c(t));return A.__wrap(i)}connectedCallback(){l.perspectiveviewerelement_connectedCallback(this.ptr)}load(t){let i=l.perspectiveviewerelement_load(this.ptr,c(t));return m(i)}delete(){let t=l.perspectiveviewerelement_delete(this.ptr);return m(t)}getView(){let t=l.perspectiveviewerelement_getView(this.ptr);return m(t)}getTable(t){let i=l.perspectiveviewerelement_getTable(this.ptr,g(t)?16777215:t?1:0);return m(i)}flush(){let t=l.perspectiveviewerelement_flush(this.ptr);return m(t)}restore(t){let i=l.perspectiveviewerelement_restore(this.ptr,c(t));return m(i)}save(t){var i=g(t)?0:S(t,l.__wbindgen_export_0,l.__wbindgen_export_1),a=y;let e=l.perspectiveviewerelement_save(this.ptr,i,a);return m(e)}download(t){let i=l.perspectiveviewerelement_download(this.ptr,g(t)?16777215:t?1:0);return m(i)}copy(t){let i=l.perspectiveviewerelement_copy(this.ptr,g(t)?16777215:t?1:0);return m(i)}reset(t){let i=l.perspectiveviewerelement_reset(this.ptr,g(t)?16777215:t?1:0);return m(i)}notifyResize(t){let i=l.perspectiveviewerelement_notifyResize(this.ptr,g(t)?16777215:t?1:0);return m(i)}setAutoSize(t){l.perspectiveviewerelement_setAutoSize(this.ptr,t)}getEditPort(){try{let e=l.__wbindgen_add_to_stack_pointer(-16);l.perspectiveviewerelement_getEditPort(e,this.ptr);var t=ht()[e/8+0],i=_()[e/4+2],a=_()[e/4+3];if(a)throw m(i);return t}finally{l.__wbindgen_add_to_stack_pointer(16)}}restyleElement(){let t=l.perspectiveviewerelement_restyleElement(this.ptr);return m(t)}resetThemes(t){var i=g(t)?0:vn(t,l.__wbindgen_export_0),a=y;let e=l.perspectiveviewerelement_resetThemes(this.ptr,i,a);return m(e)}setThrottle(t){l.perspectiveviewerelement_setThrottle(this.ptr,!g(t),g(t)?0:t)}toggleConfig(t){let i=l.perspectiveviewerelement_toggleConfig(this.ptr,g(t)?16777215:t?1:0);return m(i)}getAllPlugins(){let t=l.perspectiveviewerelement_getAllPlugins(this.ptr);return m(t)}getPlugin(t){try{let u=l.__wbindgen_add_to_stack_pointer(-16);var i=g(t)?0:S(t,l.__wbindgen_export_0,l.__wbindgen_export_1),a=y;l.perspectiveviewerelement_getPlugin(u,this.ptr,i,a);var e=_()[u/4+0],n=_()[u/4+1],o=_()[u/4+2];if(o)throw m(n);return m(e)}finally{l.__wbindgen_add_to_stack_pointer(16)}}unsafeGetModel(){return l.perspectiveviewerelement_unsafeGetModel(this.ptr)}};async function En(r,t){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,t)}catch(a){if(r.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}let i=await r.arrayBuffer();return await WebAssembly.instantiate(i,t)}else{let i=await WebAssembly.instantiate(r,t);return i instanceof WebAssembly.Instance?{instance:i,module:r}:i}}async function wt(r){typeof r=="undefined"&&(r=new URL("perspective_viewer_bg.wasm",import.meta.url));let t={};t.wbg={},t.wbg.__wbindgen_json_parse=function(e,n){let o=JSON.parse(p(e,n));return c(o)},t.wbg.__wbindgen_json_serialize=function(e,n){let o=s(n),u=JSON.stringify(o===void 0?null:o),f=S(u,l.__wbindgen_export_0,l.__wbindgen_export_1),d=y;_()[e/4+1]=d,_()[e/4+0]=f},t.wbg.__wbindgen_number_get=function(e,n){let o=s(n),u=typeof o=="number"?o:void 0;ht()[e/8+1]=g(u)?0:u,_()[e/4+0]=!g(u)},t.wbg.__wbindgen_string_get=function(e,n){let o=s(n),u=typeof o=="string"?o:void 0;var f=g(u)?0:S(u,l.__wbindgen_export_0,l.__wbindgen_export_1),d=y;_()[e/4+1]=d,_()[e/4+0]=f},t.wbg.__wbindgen_string_new=function(e,n){let o=p(e,n);return c(o)},t.wbg.__wbindgen_object_drop_ref=function(e){m(e)},t.wbg.__wbindgen_object_clone_ref=function(e){let n=s(e);return c(n)},t.wbg.__wbindgen_jsval_eq=function(e,n){return s(e)===s(n)},t.wbg.__wbindgen_cb_drop=function(e){let n=m(e).original;return n.cnt--==1?(n.a=0,!0):!1},t.wbg.__wbg_size_ea3857b7b9c01a01=function(){return h(function(e){let n=s(e).size();return c(n)},arguments)},t.wbg.__wbg_tocsv_2ec429ab1e0bb451=function(){return h(function(e,n){let o=s(e).to_csv(m(n));return c(o)},arguments)},t.wbg.__wbg_columns_b15d8d6c4a353055=function(){return h(function(e){let n=s(e).columns();return c(n)},arguments)},t.wbg.__wbg_numrows_dfd6ed430e0147ff=function(){return h(function(e){let n=s(e).num_rows();return c(n)},arguments)},t.wbg.__wbindgen_is_string=function(e){return typeof s(e)=="string"},t.wbg.__wbg_resize_8a11e82f499e6d89=function(){return h(function(e){let n=s(e).resize();return c(n)},arguments)},t.wbg.__wbg_update_b0b2df3342b63ce2=function(){return h(function(e,n,o,u,f,d,w){let C=s(e).update(s(n),o===0?void 0:u>>>0,f===0?void 0:d>>>0,w!==0);return c(C)},arguments)},t.wbg.__wbg_monacomodule_9d24db234e2e1549=function(){let e=ct();return c(e)},t.wbg.__wbg_toarrow_e23fb00f4ad5e9f8=function(){return h(function(e){let n=s(e).to_arrow();return c(n)},arguments)},t.wbg.__wbg_restore_f1fbc066c9637e24=function(e,n){s(e).restore(s(n))},t.wbg.__wbindgen_boolean_get=function(e){let n=s(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbg_default_3edfeada4cfc405b=function(){let e=lt();return c(e)},t.wbg.__wbg_makeport_8c752476acd3fe27=function(){return h(function(e){let n=s(e).make_port();return c(n)},arguments)},t.wbg.__wbg_validateexpressions_eca5656ca2844419=function(){return h(function(e,n){let o=s(e).validate_expressions(m(n));return c(o)},arguments)},t.wbg.__wbg_view_e3b1f5dab63015c7=function(){return h(function(e,n){let o=s(e).view(s(n));return c(o)},arguments)},t.wbg.__wbg_restyle_d98bfa634bd438a3=function(){return h(function(e,n){let o=s(e).restyle(s(n));return c(o)},arguments)},t.wbg.__wbg_register_1a0bbab9f7619662=function(e,n){s(e).register(m(n))},t.wbg.__wbg_setMonarchTokensProvider_1fa51a80d68f1ac1=function(e,n,o,u){s(e).setMonarchTokensProvider(p(n,o),m(u))},t.wbg.__wbg_setLanguageConfiguration_d6c86e31029d9ef5=function(e,n,o,u){s(e).setLanguageConfiguration(p(n,o),m(u))},t.wbg.__wbg_registerCompletionItemProvider_61ecf83f366d2e16=function(e,n,o,u){s(e).registerCompletionItemProvider(p(n,o),m(u))},t.wbg.__wbg_tocolumns_d45b3454003d346b=function(){return h(function(e){let n=s(e).to_columns();return c(n)},arguments)},t.wbg.__wbg_delete_cd3c8d59be8fee68=function(){return h(function(e){let n=s(e).delete();return c(n)},arguments)},t.wbg.__wbg_numcolumns_6a8d86bb12e88692=function(){return h(function(e){let n=s(e).num_columns();return c(n)},arguments)},t.wbg.__wbg_schema_b1cd087318fe451d=function(){return h(function(e){let n=s(e).schema();return c(n)},arguments)},t.wbg.__wbg_schema_ad095ebcdb4dd76f=function(){return h(function(e){let n=s(e).schema();return c(n)},arguments)},t.wbg.__wbg_draw_f7001e36a5451367=function(){return h(function(e,n,o,u,f,d,w){let C=s(e).draw(s(n),o===0?void 0:u>>>0,f===0?void 0:d>>>0,w!==0);return c(C)},arguments)},t.wbg.__wbindgen_is_null=function(e){return s(e)===null},t.wbg.__wbg_lineNumber_6b2a1c0159871238=function(e){return s(e).lineNumber},t.wbg.__wbg_column_885264f87b0a4a0b=function(e){return s(e).column},t.wbg.__wbg_findTokenIndexAtOffset_847b202bf8c16c65=function(e,n){return s(e).findTokenIndexAtOffset(n>>>0)},t.wbg.__wbg_getClassName_5bc865fe97705383=function(e,n){let o=s(e).getClassName(n>>>0);return c(o)},t.wbg.__wbg_triggerKind_9e780becc9ed4ce7=function(e){return s(e).triggerKind},t.wbg.__wbg_delete_55c2b041a4419d5d=function(e){s(e).delete()},t.wbg.__wbg_setrenderwarning_2b6ccbc5a0b49b4f=function(e,n){s(e).render_warning=n!==0},t.wbg.__wbg_new_fa9aa30b261aba73=function(e){let n=new it(s(e));return c(n)},t.wbg.__wbg_editor_91084c85a69a3fde=function(e){let n=s(e).editor;return c(n)},t.wbg.__wbg_languages_aca44d3eda97078c=function(e){let n=s(e).languages;return c(n)},t.wbg.__wbg_create_806f286d290f99c8=function(e,n,o){let u=s(e).create(m(n),m(o));return c(u)},t.wbg.__wbg_defineTheme_c4f18cdd46a4014d=function(e,n,o,u){s(e).defineTheme(p(n,o),m(u))},t.wbg.__wbg_setTheme_7cb365ba1d2ad549=function(e,n,o){s(e).setTheme(p(n,o))},t.wbg.__wbg_setModelMarkers_f49dfc56a0816242=function(e,n,o,u,f){s(e).setModelMarkers(s(n),p(o,u),s(f))},t.wbg.__wbg_layout_901473f7828d2488=function(e,n){s(e).layout(s(n))},t.wbg.__wbg_getModel_4ba1a741bc1eaaff=function(e){let n=s(e).getModel();return c(n)},t.wbg.__wbg_getValue_e8d4002de327ab32=function(e){let n=s(e).getValue();return c(n)},t.wbg.__wbg_setValue_464f1cd5da0d99d4=function(e,n,o){s(e).setValue(p(n,o))},t.wbg.__wbg_setPosition_53889da2861e22f4=function(e,n){s(e).setPosition(s(n))},t.wbg.__wbg_addCommand_0087418877d24153=function(e,n,o){s(e).addCommand(n>>>0,s(o))},t.wbg.__wbg_focus_d1521065885d8ced=function(e){s(e).focus()},t.wbg.__wbg_onDidChangeContent_333bdbf90ce64b26=function(e,n){s(e).onDidChangeContent(s(n))},t.wbg.__wbg_getLineTokens_6c81bc0a3f533604=function(e,n){let o=s(e).getLineTokens(n>>>0);return c(o)},t.wbg.__wbg_onupdate_b8cf42908fc20235=function(e,n){s(e).on_update(s(n))},t.wbg.__wbg_removeupdate_77fe2a7740d00e48=function(e,n){s(e).remove_update(s(n))},t.wbg.__wbg_errors_20c512f8dca36c8d=function(e){let n=s(e).errors;return c(n)},t.wbg.__wbg_expressionschema_7a07dfdf1c19fa1f=function(e){let n=s(e).expression_schema;return c(n)},t.wbg.__wbg_expressionalias_c0691678ddeeed2e=function(e){let n=s(e).expression_alias;return c(n)},t.wbg.__wbg_name_4e59ce156796a1db=function(e,n){let o=s(n).name,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_category_3b675f446e35f445=function(e,n){let o=s(n).category;var u=g(o)?0:S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_maxcolumns_41c0acb329b63f5a=function(e,n){let o=s(n).max_columns;_()[e/4+1]=g(o)?0:o,_()[e/4+0]=!g(o)},t.wbg.__wbg_maxcells_240ed21a2cc23a45=function(e,n){let o=s(n).max_cells;_()[e/4+1]=g(o)?0:o,_()[e/4+0]=!g(o)},t.wbg.__wbg_renderwarning_28b6ae4b73e78f68=function(e){let n=s(e).render_warning;return g(n)?16777215:n?1:0},t.wbg.__wbg_selectmode_2d072add5bfb5e92=function(e){let n=s(e).select_mode;return c(n)},t.wbg.__wbg_minconfigcolumns_fc8660538ce7232d=function(e,n){let o=s(n).min_config_columns;_()[e/4+1]=g(o)?0:o,_()[e/4+0]=!g(o)},t.wbg.__wbg_configcolumnnames_1a26628997420d20=function(e){let n=s(e).config_column_names;return g(n)?0:c(n)},t.wbg.__wbg_save_5742b4ec09ae0d34=function(e){let n=s(e).save();return c(n)},t.wbg.__wbg_new_fcda59553629199d=function(e){let n=new ft(s(e));return c(n)},t.wbg.__wbg_observe_86c9286ddb2080e3=function(e,n){s(e).observe(s(n))},t.wbg.__wbg_unobserve_6d276eada6182ea1=function(e,n){s(e).unobserve(s(n))},t.wbg.__wbg_contentRect_3f8cd97f6e2969a6=function(e){let n=s(e).contentRect;return c(n)},t.wbg.__wbg_bootstrap_c502f2f6c853599d=function(e,n,o,u,f){let d=_t(p(e,n),p(o,u),m(f));return c(d)},t.wbg.__wbg_listenerid_25425097ae5fdb72=function(e,n){let o=s(n).__yew_listener_id;_()[e/4+1]=g(o)?0:o,_()[e/4+0]=!g(o)},t.wbg.__wbg_setlistenerid_007d4751f70f0e32=function(e,n){s(e).__yew_listener_id=n>>>0},t.wbg.__wbg_setsubtreeid_6966527169be2ec4=function(e,n){s(e).__yew_subtree_id=n>>>0},t.wbg.__wbg_setcachekey_a9744e4c550ca52b=function(e,n){s(e).__yew_subtree_cache_key=n>>>0},t.wbg.__wbg_subtreeid_05e7e8ba671b1a4e=function(e,n){let o=s(n).__yew_subtree_id;_()[e/4+1]=g(o)?0:o,_()[e/4+0]=!g(o)},t.wbg.__wbg_cachekey_57f0ac7b26342cf7=function(e,n){let o=s(n).__yew_subtree_cache_key;_()[e/4+1]=g(o)?0:o,_()[e/4+0]=!g(o)},t.wbg.__wbg_new_693216e109162396=function(){let e=new Error;return c(e)},t.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,n){let o=s(n).stack,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_error_09919627ac0992f5=function(e,n){try{console.error(p(e,n))}finally{l.__wbindgen_export_15(e,n)}},t.wbg.__wbindgen_number_new=function(e){return c(e)},t.wbg.__wbindgen_is_undefined=function(e){return s(e)===void 0},t.wbg.__wbg_error_1a35d3879f286b52=function(e,n){var o=Ie(e,n).slice();l.__wbindgen_export_15(e,n*4),console.error(...o)},t.wbg.__wbg_warn_2aa0e7178e1d35f6=function(e,n){var o=Ie(e,n).slice();l.__wbindgen_export_15(e,n*4),console.warn(...o)},t.wbg.__wbg_newwithu8arraysequence_59d8930063f230fc=function(){return h(function(e){let n=new Blob(s(e));return c(n)},arguments)},t.wbg.__wbg_newwithstrsequenceandoptions_c90f9a7e0473bb8b=function(){return h(function(e,n){let o=new Blob(s(e),s(n));return c(o)},arguments)},t.wbg.__wbg_write_7d74a92b24ec3b78=function(e,n){let o=s(e).write(s(n));return c(o)},t.wbg.__wbg_length_a447faa375a305ca=function(e){return s(e).length},t.wbg.__wbg_item_1d92c77d23c4d4e2=function(e,n){let o=s(e).item(n>>>0);return g(o)?0:c(o)},t.wbg.__wbg_length_cf8ba61b357ea407=function(e){return s(e).length},t.wbg.__wbg_getPropertyValue_bf45de7eb85326ca=function(){return h(function(e,n,o,u){let f=s(n).getPropertyValue(p(o,u)),d=S(f,l.__wbindgen_export_0,l.__wbindgen_export_1),w=y;_()[e/4+1]=w,_()[e/4+0]=d},arguments)},t.wbg.__wbg_item_33c99e95d00fc151=function(e,n,o){let u=s(n).item(o>>>0),f=S(u,l.__wbindgen_export_0,l.__wbindgen_export_1),d=y;_()[e/4+1]=d,_()[e/4+0]=f},t.wbg.__wbg_setProperty_ae9adf5d00216c03=function(){return h(function(e,n,o,u,f){s(e).setProperty(p(n,o),p(u,f))},arguments)},t.wbg.__wbg_instanceof_CssStyleRule_020056a1ade59d46=function(e){return s(e)instanceof CSSStyleRule},t.wbg.__wbg_selectorText_acca7aeee7c97f8f=function(e,n){let o=s(n).selectorText,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_style_99723136b389a537=function(e){let n=s(e).style;return c(n)},t.wbg.__wbg_cssRules_d56090e7ebec3223=function(){return h(function(e){let n=s(e).cssRules;return c(n)},arguments)},t.wbg.__wbg_new_04084ee316e91119=function(){return h(function(e,n){let o=new CustomEvent(p(e,n));return c(o)},arguments)},t.wbg.__wbg_newwitheventinitdict_36b7079043da62f0=function(){return h(function(e,n,o){let u=new CustomEvent(p(e,n),s(o));return c(u)},arguments)},t.wbg.__wbg_setDragImage_01c38b6ad9ce80a4=function(e,n,o,u){s(e).setDragImage(s(n),o,u)},t.wbg.__wbg_readyState_7be93ee45f38a12c=function(e,n){let o=s(n).readyState,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_body_2a1ff14b05042a51=function(e){let n=s(e).body;return g(n)?0:c(n)},t.wbg.__wbg_styleSheets_3143eb67adacb452=function(e){let n=s(e).styleSheets;return c(n)},t.wbg.__wbg_fonts_bd3213dac92b76ce=function(e){let n=s(e).fonts;return c(n)},t.wbg.__wbg_createElement_3c9b5f3aa42457a1=function(){return h(function(e,n,o){let u=s(e).createElement(p(n,o));return c(u)},arguments)},t.wbg.__wbg_createElementNS_a0904ea4c02292f4=function(){return h(function(e,n,o,u,f){let d=s(e).createElementNS(n===0?void 0:p(n,o),p(u,f));return c(d)},arguments)},t.wbg.__wbg_createTextNode_72cf3c22f1eed9ee=function(e,n,o){let u=s(e).createTextNode(p(n,o));return c(u)},t.wbg.__wbg_width_a260098679e33e90=function(e){return s(e).width},t.wbg.__wbg_height_1f8574470ebe45c9=function(e){return s(e).height},t.wbg.__wbg_width_fb5e90a42bb9cc69=function(e){return s(e).width},t.wbg.__wbg_height_009864c25b919c97=function(e){return s(e).height},t.wbg.__wbg_top_da39668ed41161c4=function(e){return s(e).top},t.wbg.__wbg_left_a1624a1a425102f3=function(e){return s(e).left},t.wbg.__wbg_get_c4e08a2b52268df5=function(e,n,o,u){let f=s(n)[p(o,u)];var d=g(f)?0:S(f,l.__wbindgen_export_0,l.__wbindgen_export_1),w=y;_()[e/4+1]=w,_()[e/4+0]=d},t.wbg.__wbg_set_270ea74f595ff540=function(){return h(function(e,n,o,u,f){s(e)[p(n,o)]=p(u,f)},arguments)},t.wbg.__wbg_delete_4317d0810414d823=function(e,n,o){delete s(e)[p(n,o)]},t.wbg.__wbg_add_0e4449143d6e7625=function(){return h(function(e,n,o){s(e).add(p(n,o))},arguments)},t.wbg.__wbg_remove_90cd0eb3c01b4900=function(){return h(function(e,n,o){s(e).remove(p(n,o))},arguments)},t.wbg.__wbg_dataTransfer_a9eebb31aa4055f2=function(e){let n=s(e).dataTransfer;return g(n)?0:c(n)},t.wbg.__wbg_instanceof_Element_4fafc1ceb4cdee77=function(e){return s(e)instanceof Element},t.wbg.__wbg_namespaceURI_3bb5841c365214c8=function(e,n){let o=s(n).namespaceURI;var u=g(o)?0:S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_tagName_d442fa7abe8c7c55=function(e,n){let o=s(n).tagName,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_classList_557a7b717387d03d=function(e){let n=s(e).classList;return c(n)},t.wbg.__wbg_scrollTop_2a87242e9ad99252=function(e){return s(e).scrollTop},t.wbg.__wbg_setscrollTop_a245cb30b8f9db3e=function(e,n){s(e).scrollTop=n},t.wbg.__wbg_clientWidth_11f72beceb108bff=function(e){return s(e).clientWidth},t.wbg.__wbg_clientHeight_205d93d6eadff351=function(e){return s(e).clientHeight},t.wbg.__wbg_children_6489319972c20eca=function(e){let n=s(e).children;return c(n)},t.wbg.__wbg_attachShadow_4b6a901610b5f806=function(){return h(function(e,n){let o=s(e).attachShadow(s(n));return c(o)},arguments)},t.wbg.__wbg_getAttribute_3fb147449175f88f=function(e,n,o,u){let f=s(n).getAttribute(p(o,u));var d=g(f)?0:S(f,l.__wbindgen_export_0,l.__wbindgen_export_1),w=y;_()[e/4+1]=w,_()[e/4+0]=d},t.wbg.__wbg_getBoundingClientRect_ab935d65fdd23c25=function(e){let n=s(e).getBoundingClientRect();return c(n)},t.wbg.__wbg_hasAttribute_09e085f03b97e4e8=function(e,n,o){return s(e).hasAttribute(p(n,o))},t.wbg.__wbg_matches_4a94611da6d059da=function(){return h(function(e,n,o){return s(e).matches(p(n,o))},arguments)},t.wbg.__wbg_removeAttribute_8a8f459a4b627ec4=function(){return h(function(e,n,o){s(e).removeAttribute(p(n,o))},arguments)},t.wbg.__wbg_setAttribute_8d90e00d652037be=function(){return h(function(e,n,o,u,f){s(e).setAttribute(p(n,o),p(u,f))},arguments)},t.wbg.__wbg_toggleAttribute_6d3957ff8de1c790=function(){return h(function(e,n,o,u){return s(e).toggleAttribute(p(n,o),u!==0)},arguments)},t.wbg.__wbg_target_46fd3a29f64b0e43=function(e){let n=s(e).target;return g(n)?0:c(n)},t.wbg.__wbg_cancelBubble_7446704fccad1780=function(e){return s(e).cancelBubble},t.wbg.__wbg_composedPath_d85b0cbc071610e9=function(e){let n=s(e).composedPath();return c(n)},t.wbg.__wbg_preventDefault_747982fd5fe3b6d0=function(e){s(e).preventDefault()},t.wbg.__wbg_stopPropagation_63abc0c04280af82=function(e){s(e).stopPropagation()},t.wbg.__wbg_addEventListener_78d3aa7e06ee5b73=function(){return h(function(e,n,o,u){s(e).addEventListener(p(n,o),s(u))},arguments)},t.wbg.__wbg_addEventListener_be0c061a1359c1dd=function(){return h(function(e,n,o,u,f){s(e).addEventListener(p(n,o),s(u),s(f))},arguments)},t.wbg.__wbg_dispatchEvent_718c3e5609908d17=function(){return h(function(e,n){return s(e).dispatchEvent(s(n))},arguments)},t.wbg.__wbg_removeEventListener_ab2f93784dae0528=function(){return h(function(e,n,o,u){s(e).removeEventListener(p(n,o),s(u))},arguments)},t.wbg.__wbg_instanceof_FontFace_f253958a99ebb8cf=function(e){return s(e)instanceof FontFace},t.wbg.__wbg_family_9df8df68157eac0b=function(e,n){let o=s(n).family,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_weight_dbc52e277e8bf1a6=function(e,n){let o=s(n).weight,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_loaded_7d8afc16ff5c55ac=function(){return h(function(e){let n=s(e).loaded;return c(n)},arguments)},t.wbg.__wbg_values_94c5bb477b448171=function(e){let n=s(e).values();return c(n)},t.wbg.__wbg_next_46932fbcfd3a8308=function(){return h(function(e){let n=s(e).next();return c(n)},arguments)},t.wbg.__wbg_item_e3bf336fb2375953=function(e,n){let o=s(e).item(n>>>0);return g(o)?0:c(o)},t.wbg.__wbg_dataset_2c07700544565f3d=function(e){let n=s(e).dataset;return c(n)},t.wbg.__wbg_style_dd3ba68ea919f1b0=function(e){let n=s(e).style;return c(n)},t.wbg.__wbg_offsetParent_6ca592f61eaa512b=function(e){let n=s(e).offsetParent;return g(n)?0:c(n)},t.wbg.__wbg_offsetWidth_3afb80444bdcabce=function(e){return s(e).offsetWidth},t.wbg.__wbg_offsetHeight_827bbccec73bb098=function(e){return s(e).offsetHeight},t.wbg.__wbg_blur_685fb8c8baa471a1=function(){return h(function(e){s(e).blur()},arguments)},t.wbg.__wbg_click_e2237d337e1f3b29=function(e){s(e).click()},t.wbg.__wbg_focus_42ad8e77a7a0b22a=function(){return h(function(e){s(e).focus()},arguments)},t.wbg.__wbg_checked_e56aae074443629d=function(e){return s(e).checked},t.wbg.__wbg_setchecked_e37cbc4fab363e71=function(e,n){s(e).checked=n!==0},t.wbg.__wbg_value_14b43f7df5bd6160=function(e,n){let o=s(n).value,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_setvalue_649eb7de76d4a493=function(e,n,o){s(e).value=p(n,o)},t.wbg.__wbg_value_1c3c734b0e8a17cc=function(e,n){let o=s(n).value,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_setvalue_81a6810110246c35=function(e,n,o){s(e).value=p(n,o)},t.wbg.__wbg_value_f232184bd0e27b00=function(e,n){let o=s(n).value,u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},t.wbg.__wbg_setvalue_8efcd1f77232ee9b=function(e,n,o){s(e).value=p(n,o)},t.wbg.__wbg_keyCode_9bdbab45f06fb085=function(e){return s(e).keyCode},t.wbg.__wbg_clientX_83648828186ba19f=function(e){return s(e).clientX},t.wbg.__wbg_clientY_ba9e5549993281e3=function(e){return s(e).clientY},t.wbg.__wbg_shiftKey_42596574095ad5e2=function(e){return s(e).shiftKey},t.wbg.__wbg_relatedTarget_7958cc9507818352=function(e){let n=s(e).relatedTarget;return g(n)?0:c(n)},t.wbg.__wbg_clipboard_e99151dcef87806f=function(e){let n=s(e).clipboard;return g(n)?0:c(n)},t.wbg.__wbg_isConnected_2815763f7adb0709=function(e){return s(e).isConnected},t.wbg.__wbg_parentNode_5da8bf287dc6bad7=function(e){let n=s(e).parentNode;return g(n)?0:c(n)},t.wbg.__wbg_parentElement_d078cf0bd5c4b641=function(e){let n=s(e).parentElement;return g(n)?0:c(n)},t.wbg.__wbg_lastChild_84687239bfef7d2f=function(e){let n=s(e).lastChild;return g(n)?0:c(n)},t.wbg.__wbg_setnodeValue_77a78d32cf9e9152=function(e,n,o){s(e).nodeValue=n===0?void 0:p(n,o)},t.wbg.__wbg_appendChild_a86c0da8d152eae4=function(){return h(function(e,n){let o=s(e).appendChild(s(n));return c(o)},arguments)},t.wbg.__wbg_contains_e736c2471064a695=function(e,n){return s(e).contains(s(n))},t.wbg.__wbg_insertBefore_4df558a2aa0435c1=function(){return h(function(e,n,o){let u=s(e).insertBefore(s(n),s(o));return c(u)},arguments)},t.wbg.__wbg_removeChild_b4ce6c8d6e5d47be=function(){return h(function(e,n){let o=s(e).removeChild(s(n));return c(o)},arguments)},t.wbg.__wbg_now_20d2aadcf3cc17f7=function(e){return s(e).now()},t.wbg.__wbg_instanceof_ShadowRoot_66f9befa553d5ec6=function(e){return s(e)instanceof ShadowRoot},t.wbg.__wbg_host_8fb11848b02096c6=function(e){let n=s(e).host;return c(n)},t.wbg.__wbg_length_480ea29966c7555a=function(e){return s(e).length},t.wbg.__wbg_item_04ef5832803902f9=function(e,n){let o=s(e).item(n>>>0);return g(o)?0:c(o)},t.wbg.__wbg_createObjectURL_bdc5bc0b8e0bcb6c=function(){return h(function(e,n){let o=URL.createObjectURL(s(n)),u=S(o,l.__wbindgen_export_0,l.__wbindgen_export_1),f=y;_()[e/4+1]=f,_()[e/4+0]=u},arguments)},t.wbg.__wbg_instanceof_Window_0e6c0f1096d66c3c=function(e){return s(e)instanceof Window},t.wbg.__wbg_document_99eddbbc11ec831e=function(e){let n=s(e).document;return g(n)?0:c(n)},t.wbg.__wbg_navigator_1f72d7edb7b4c387=function(e){let n=s(e).navigator;return c(n)},t.wbg.__wbg_innerWidth_aebdd1c86de7b6aa=function(){return h(function(e){let n=s(e).innerWidth;return c(n)},arguments)},t.wbg.__wbg_innerHeight_67ea5ab43c3043ad=function(){return h(function(e){let n=s(e).innerHeight;return c(n)},arguments)},t.wbg.__wbg_performance_71eb0d14ca622227=function(e){let n=s(e).performance;return g(n)?0:c(n)},t.wbg.__wbg_getComputedStyle_790414541634177d=function(){return h(function(e,n){let o=s(e).getComputedStyle(s(n));return g(o)?0:c(o)},arguments)},t.wbg.__wbg_requestAnimationFrame_8e3c7028c69ebaef=function(){return h(function(e,n){return s(e).requestAnimationFrame(s(n))},arguments)},t.wbg.__wbg_setTimeout_a100c5fd6f7b2032=function(){return h(function(e,n,o){return s(e).setTimeout(s(n),o)},arguments)},t.wbg.__wbg_error_8ff19d586a987aef=function(e){console.error(s(e))},t.wbg.__wbg_error_8ef6cef5534a3473=function(e,n,o){console.error(s(e),s(n),s(o))},t.wbg.__wbg_log_e8ba7b992c7ad0eb=function(e){console.log(s(e))},t.wbg.__wbg_warn_0227db1aa6989248=function(e){console.warn(s(e))},t.wbg.__wbg_self_99737b4dcdf6f0d8=function(){return h(function(){let e=self.self;return c(e)},arguments)},t.wbg.__wbg_window_9b61fbbf3564c4fb=function(){return h(function(){let e=window.window;return c(e)},arguments)},t.wbg.__wbg_globalThis_8e275ef40caea3a3=function(){return h(function(){let e=globalThis.globalThis;return c(e)},arguments)},t.wbg.__wbg_global_5de1e0f82bddcd27=function(){return h(function(){let e=global.global;return c(e)},arguments)},t.wbg.__wbg_newnoargs_e23b458e372830de=function(e,n){let o=new Function(p(e,n));return c(o)},t.wbg.__wbg_new_94fb1279cf6afea5=function(){let e=new Array;return c(e)},t.wbg.__wbg_new_36359baae5a47e27=function(){let e=new Object;return c(e)},t.wbg.__wbg_get_590a2cd912f2ae46=function(e,n){let o=s(e)[n>>>0];return c(o)},t.wbg.__wbg_length_2cd798326f2cc4c1=function(e){return s(e).length},t.wbg.__wbg_push_40c6a90f1805aa90=function(e,n){return s(e).push(s(n))},t.wbg.__wbg_instanceof_ArrayBuffer_b81b40c2ae0ab898=function(e){return s(e)instanceof ArrayBuffer},t.wbg.__wbg_slice_86a0334a3c44d85f=function(e,n,o){let u=s(e).slice(n>>>0,o>>>0);return c(u)},t.wbg.__wbg_instanceof_Error_b074c76f6096db9b=function(e){return s(e)instanceof Error},t.wbg.__wbg_message_dcca38fbff239fbf=function(e){let n=s(e).message;return c(n)},t.wbg.__wbg_call_ae78342adc33730a=function(){return h(function(e,n){let o=s(e).call(s(n));return c(o)},arguments)},t.wbg.__wbg_call_3ed288a247f13ea5=function(){return h(function(e,n,o){let u=s(e).call(s(n),s(o));return c(u)},arguments)},t.wbg.__wbg_getTimezoneOffset_9c9a2f880882a1d7=function(e){return s(e).getTimezoneOffset()},t.wbg.__wbg_new_b055ee5052948476=function(e){let n=new Date(s(e));return c(n)},t.wbg.__wbg_is_40969b082b54c84d=function(e,n){return Object.is(s(e),s(n))},t.wbg.__wbg_keys_faf7de974cd99ac2=function(e){let n=Object.keys(s(e));return c(n)},t.wbg.__wbg_get_a9cab131e3152c49=function(){return h(function(e,n){let o=Reflect.get(s(e),s(n));return c(o)},arguments)},t.wbg.__wbg_has_ce995ec88636803d=function(){return h(function(e,n){return Reflect.has(s(e),s(n))},arguments)},t.wbg.__wbg_set_93b1c87ee2af852e=function(){return h(function(e,n,o){return Reflect.set(s(e),s(n),s(o))},arguments)},t.wbg.__wbg_buffer_7af23f65f6c64548=function(e){let n=s(e).buffer;return c(n)},t.wbg.__wbg_stringify_c760003feffcc1f2=function(){return h(function(e){let n=JSON.stringify(s(e));return c(n)},arguments)},t.wbg.__wbg_instanceof_Promise_56353edbaec268c3=function(e){return s(e)instanceof Promise},t.wbg.__wbg_new_37705eed627d5ed9=function(e,n){try{var o={a:e,b:n},u=(d,w)=>{let C=o.a;o.a=0;try{return Cn(C,o.b,d,w)}finally{o.a=C}};let f=new Promise(u);return c(f)}finally{o.a=o.b=0}},t.wbg.__wbg_resolve_a9a87bdd64e9e62c=function(e){let n=Promise.resolve(s(e));return c(n)},t.wbg.__wbg_then_ce526c837d07b68f=function(e,n){let o=s(e).then(s(n));return c(o)},t.wbg.__wbg_then_842e65b843962f56=function(e,n,o){let u=s(e).then(s(n),s(o));return c(u)},t.wbg.__wbg_newwithbyteoffsetandlength_ce1e75f0ce5f7974=function(e,n,o){let u=new Uint8Array(s(e),n>>>0,o>>>0);return c(u)},t.wbg.__wbg_new_cc9018bd6f283b6f=function(e){let n=new Uint8Array(s(e));return c(n)},t.wbg.__wbg_buffer_0e70c88190dd0999=function(e){let n=s(e).buffer;return c(n)},t.wbg.__wbg_length_0acb1cf9bbaf8519=function(e){return s(e).length},t.wbg.__wbg_byteLength_e07852258f592e80=function(e){return s(e).byteLength},t.wbg.__wbg_byteOffset_3e0482615c7f74fd=function(e){return s(e).byteOffset},t.wbg.__wbg_set_f25e869e4565d2a2=function(e,n,o){s(e).set(s(n),o>>>0)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(p(e,n))},t.wbg.__wbindgen_memory=function(){let e=l.memory;return c(e)},t.wbg.__wbindgen_closure_wrapper3381=function(e,n,o){let u=W(e,n,40,un);return c(u)},t.wbg.__wbindgen_closure_wrapper3383=function(e,n,o){let u=W(e,n,32,ln);return c(u)},t.wbg.__wbindgen_closure_wrapper3385=function(e,n,o){let u=ce(e,n,26,cn);return c(u)},t.wbg.__wbindgen_closure_wrapper3387=function(e,n,o){let u=ce(e,n,30,fn);return c(u)},t.wbg.__wbindgen_closure_wrapper3389=function(e,n,o){let u=W(e,n,38,_n);return c(u)},t.wbg.__wbindgen_closure_wrapper3391=function(e,n,o){let u=W(e,n,36,dn);return c(u)},t.wbg.__wbindgen_closure_wrapper3393=function(e,n,o){let u=ce(e,n,34,hn);return c(u)},t.wbg.__wbindgen_closure_wrapper3395=function(e,n,o){let u=ce(e,n,28,gn);return c(u)},t.wbg.__wbindgen_closure_wrapper10736=function(e,n,o){let u=W(e,n,2393,mn);return c(u)},t.wbg.__wbindgen_closure_wrapper10767=function(e,n,o){let u=W(e,n,2399,pn);return c(u)},t.wbg.__wbindgen_closure_wrapper10849=function(e,n,o){let u=W(e,n,2417,wn);return c(u)},(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));let{instance:i,module:a}=await En(await r,t);return l=i.exports,wt.__wbindgen_wasm_module=a,l}var xe=wt;function yr(r,{warn:t=!0,replace_defaults:i=!1}={}){if(typeof r=="object"&&!(r instanceof ArrayBuffer)){let a=JSON.parse(JSON.stringify(r));return"viewers"in a&&"detail"in a?Tn(a,{warn:t,replace_defaults:i}):vt(a,!1,{warn:t,replace_defaults:i})}else return r}function Tn(r,t){for(let i in r.viewers)r.viewers[i]=vt(r.viewers[i],!0,t),"master"in r.viewers[i]||(r.viewers[i].master=!1,t.warn&&console.warn('Deprecated perspective missing attribute "master" set to default')),"linked"in r.viewers[i]||(r.viewers[i].linked=!1,t.warn&&console.warn('Deprecated perspective missing attribute "linked" set to default'));return r}function vt(r,t,i){return Ln(r,[On,In,xn,Pn,i.replace_defaults?Nn:!1,kn,Dn,t?Fn:Mn].filter(a=>!!a),i)}function Ln(r,t,i){for(let a of t)r=a(r,i);return r}function Nn(r,t){for(let i of["group_by","split_by","filter","sort"])r[i]===null&&(r[i]=[],t.warn&&console.warn(`Deprecated perspective missing attribute "${i}" set to default"`)),"aggregates"in r&&r.aggregates===null&&(r.aggregates={},t.warn&&console.warn('Deprecated perspective missing attribute "aggregates" set to default"'));return r}function Ae(r,t){return function(i,a){let e=0;for(let n of t)if(n in i){if(e++>0)throw new Error(`Duplicate "${r}" fields`);i[r]=i[n],n!==r&&(delete i[n],a.warn&&console.warn(`Deprecated perspective attribute "${n}" renamed "${r}"`))}return i}}var On=Ae("group_by",["group_by","row_pivots","row-pivot","row-pivots","row_pivot"]),In=Ae("split_by",["split_by","column_pivots","column-pivot","column-pivots","column_pivot","col_pivots","col-pivot","col-pivots","col_pivot"]),xn=Ae("filter",["filter","filters"]);function An(r,t,i,a,e){if(r.test(i)){let n=i.replace(r,t);e.warn&&console.warn(`Deprecated perspective "expression" attribute value "${i}" updated to "${n}"`);for(let o of["group_by","split_by"])if(o in a)for(let u in a[o])a[o][u]===i.replace(/"/g,"")&&(a[o][u]=n,e.warn&&console.warn(`Deprecated perspective expression in "${o}" attribute "${i}" replaced with "${n}"`));for(let o of a.filter||[])o[0]===i.replace(/"/g,"")&&(o[0]=n,e.warn&&console.warn(`Deprecated perspective expression in "filter" attribute "${i}" replaced with "${n}"`));for(let o of a.sort||[])o[0]===i.replace(/"/g,"")&&(o[0]=n,e.warn&&console.warn(`Deprecated perspective expression in "sort" attribute "${i}" replaced with "${n}"`));return n}else return i}function Pn(r,t){if(r["computed-columns"]){if("expressions"in r)throw new Error('Duplicate "expressions" and "computed-columns');r.expressions=r["computed-columns"],delete r["computed-columns"],t.warn&&console.warn('Deprecated perspective attribute "computed-columns" renamed "expressions"');let i=[[/^year_bucket\("(.+?)"\)/,`bucket("$1", 'y')`],[/^month_bucket\("(.+?)"\)/,`bucket("$1", 'M')`],[/^day_bucket\("(.+?)"\)/,`bucket("$1", 'd')`],[/^hour_bucket\("(.+?)"\)/,`bucket("$1", 'h')`],[/^minute_bucket\("(.+?)"\)/,`bucket("$1", 'm')`],[/^second_bucket\("(.+?)"\)/,`bucket("$1", 's')`]];for(let a in r.expressions){let e=r.expressions[a];for(let[n,o]of i)e=An(n,o,e,r,t);r.expressions[a]=e}}return r}function kn(r,t){let i={datagrid:"Datagrid",Datagrid:"Datagrid",d3_y_area:"Y Area","Y Area":"Y Area",d3_y_line:"Y Line","Y Line":"Y Line",d3_xy_line:"X/Y Line","X/Y Line":"X/Y Line",d3_y_scatter:"Y Scatter","Y Scatter":"Y Scatter",d3_xy_scatter:"X/Y Scatter","X/Y Scatter":"X/Y Scatter",d3_x_bar:"X Bar","X Bar":"X Bar",d3_y_bar:"Y Bar","Y Bar":"Y Bar",d3_heatmap:"Heatmap",Heatmap:"Heatmap",d3_treemap:"Treemap",Treemap:"Treemap",d3_sunburst:"Sunburst",Sunburst:"Sunburst"};return"plugin"in r&&r.plugin!==i[r.plugin]&&(r.plugin=i[r.plugin],t.warn&&console.warn(`Deprecated perspective "plugin" attribute value "${r.plugin}" updated to "${i[r.plugin]}"`)),r}function Dn(r,t){if(r.plugin==="Datagrid"&&!!r.plugin_config){if(!r.plugin_config.columns){t.warn&&console.warn('Deprecated perspective attribute "plugin_config" moved to "plugin_config.columns"');let i={};for(let a of Object.keys(r.plugin_config)){let e=r.plugin_config[a];delete r.plugin_config[a],typeof e.color_mode=="string"&&(e.color_mode==="foreground"?e.number_fg_mode="color":e.color_mode==="bar"?e.number_fg_mode="bar":e.color_mode==="background"?e.number_bg_mode="color":e.color_mode==="gradient"?e.number_bg_mode="gradient":console.warn(`Unknown color_mode ${e.color_mode}`),delete e.color_mode,t.warn&&console.warn('Deprecated perspective attribute "color_mode" renamed "number_bg_mode"')),i[a]=e}r.plugin_config.columns=i,t.replace_defaults&&(r.plugin_config.editable=!1,r.plugin_config.scroll_lock=!0)}for(let i of Object.keys(r.plugin_config.columns)){let a=r.plugin_config.columns[i];typeof a.number_color_mode=="string"&&(a.number_color_mode==="foreground"?a.number_fg_mode="color":a.number_color_mode==="bar"?a.number_fg_mode="bar":a.number_color_mode==="background"?a.number_bg_mode="color":a.number_color_mode==="gradient"&&(a.number_bg_mode="gradient"),delete a.number_color_mode,t.warn&&console.warn('Deprecated perspective attribute "number_color_mode" renamed "number_bg_mode"')),a.gradient!==void 0&&(a.number_bg_mode==="gradient"?a.bg_gradient=a.gradient:a.number_fg_mode==="bar"&&(a.fg_gradient=a.gradient),delete a.gradient,t.warn&&console.warn('Deprecated perspective attribute "gradient" renamed "bg_gradient"')),a.pos_color!==void 0&&(a.number_bg_mode!==void 0?a.pos_bg_color=a.pos_color:a.number_fg_mode!==void 0&&(a.pos_fg_color=a.pos_color),delete a.pos_color,t.warn&&console.warn('Deprecated perspective attribute "pos_color" renamed "pos_bg_color"')),a.neg_color!==void 0&&(a.number_bg_mode!==void 0?a.neg_bg_color=a.neg_color:a.number_fg_mode!==void 0&&(a.neg_fg_color=a.neg_color),delete a.neg_color,t.warn&&console.warn('Deprecated perspective attribute "neg_color" renamed "neg_bg_color"'))}}return r}function Mn(r,t){let i=["editable","selectable","name","table","master","linked"];for(let a of i)a in r&&(delete r[a],t.warn&&console.warn(`Deprecated perspective attribute "${a}" removed`));return r}function Fn(r,t){let i=["editable","selectable","name","table","master","linked"];for(let a of i)a in r&&r[a]===null&&(delete r[a],t.warn&&console.warn(`Deprecated perspective attribute "${a}" removed`));return r}var E=Uint8Array,F=Uint16Array,Pe=Uint32Array,yt=new E([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),St=new E([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rn=new E([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ct=function(r,t){for(var i=new F(31),a=0;a<31;++a)i[a]=t+=1<<r[a-1];for(var e=new Pe(i[30]),a=1;a<30;++a)for(var n=i[a];n<i[a+1];++n)e[n]=n-i[a]<<5|a;return[i,e]},Et=Ct(yt,2),Tt=Et[0],Un=Et[1];Tt[28]=258,Un[258]=28;var Lt=Ct(St,0),Wn=Lt[0],Cr=Lt[1],ke=new F(32768);for(b=0;b<32768;++b)P=(b&43690)>>>1|(b&21845)<<1,P=(P&52428)>>>2|(P&13107)<<2,P=(P&61680)>>>4|(P&3855)<<4,ke[b]=((P&65280)>>>8|(P&255)<<8)>>>1;var P,b,J=function(r,t,i){for(var a=r.length,e=0,n=new F(t);e<a;++e)r[e]&&++n[r[e]-1];var o=new F(t);for(e=0;e<t;++e)o[e]=o[e-1]+n[e-1]<<1;var u;if(i){u=new F(1<<t);var f=15-t;for(e=0;e<a;++e)if(r[e])for(var d=e<<4|r[e],w=t-r[e],C=o[r[e]-1]++<<w,R=C|(1<<w)-1;C<=R;++C)u[ke[C]>>>f]=d}else for(u=new F(a),e=0;e<a;++e)r[e]&&(u[e]=ke[o[r[e]-1]++]>>>15-r[e]);return u},ee=new E(288);for(b=0;b<144;++b)ee[b]=8;var b;for(b=144;b<256;++b)ee[b]=9;var b;for(b=256;b<280;++b)ee[b]=7;var b;for(b=280;b<288;++b)ee[b]=8;var b,Nt=new E(32);for(b=0;b<32;++b)Nt[b]=5;var b;var Vn=J(ee,9,1);var Hn=J(Nt,5,1),De=function(r){for(var t=r[0],i=1;i<r.length;++i)r[i]>t&&(t=r[i]);return t},O=function(r,t,i){var a=t/8|0;return(r[a]|r[a+1]<<8)>>(t&7)&i},Me=function(r,t){var i=t/8|0;return(r[i]|r[i+1]<<8|r[i+2]<<16)>>(t&7)},Xn=function(r){return(r+7)/8|0},de=function(r,t,i){(t==null||t<0)&&(t=0),(i==null||i>r.length)&&(i=r.length);var a=new(r instanceof F?F:r instanceof Pe?Pe:E)(i-t);return a.set(r.subarray(t,i)),a};var Yn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(r,t,i){var a=new Error(t||Yn[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,T),!i)throw a;return a},Bn=function(r,t,i){var a=r.length;if(!a||i&&i.f&&!i.l)return t||new E(0);var e=!t||i,n=!i||i.i;i||(i={}),t||(t=new E(a*3));var o=function(Ge){var Ke=t.length;if(Ge>Ke){var qe=new E(Math.max(Ke*2,Ge));qe.set(t),t=qe}},u=i.f||0,f=i.p||0,d=i.b||0,w=i.l,C=i.d,R=i.m,Y=i.n,ge=a*8;do{if(!w){u=O(r,f,1);var me=O(r,f+1,3);if(f+=3,me)if(me==1)w=Vn,C=Hn,R=9,Y=5;else if(me==2){var we=O(r,f,31)+257,Ue=O(r,f+10,15)+4,We=we+O(r,f+5,31)+1;f+=14;for(var B=new E(We),ve=new E(19),L=0;L<Ue;++L)ve[Rn[L]]=O(r,f+L*3,7);f+=Ue*3;for(var Ve=De(ve),At=(1<<Ve)-1,Pt=J(ve,Ve,1),L=0;L<We;){var He=Pt[O(r,f,At)];f+=He&15;var I=He>>>4;if(I<16)B[L++]=I;else{var H=0,te=0;for(I==16?(te=3+O(r,f,3),f+=2,H=B[L-1]):I==17?(te=3+O(r,f,7),f+=3):I==18&&(te=11+O(r,f,127),f+=7);te--;)B[L++]=H}}var Xe=B.subarray(0,we),k=B.subarray(we);R=De(Xe),Y=De(k),w=J(Xe,R,1),C=J(k,Y,1)}else T(1);else{var I=Xn(f)+4,pe=r[I-4]|r[I-3]<<8,be=I+pe;if(be>a){n&&T(0);break}e&&o(d+pe),t.set(r.subarray(I,be),d),i.b=d+=pe,i.p=f=be*8,i.f=u;continue}if(f>ge){n&&T(0);break}}e&&o(d+131072);for(var kt=(1<<R)-1,Dt=(1<<Y)-1,ye=f;;ye=f){var H=w[Me(r,f)&kt],X=H>>>4;if(f+=H&15,f>ge){n&&T(0);break}if(H||T(2),X<256)t[d++]=X;else if(X==256){ye=f,w=null;break}else{var Ye=X-254;if(X>264){var L=X-257,G=yt[L];Ye=O(r,f,(1<<G)-1)+Tt[L],f+=G}var Se=C[Me(r,f)&Dt],Ce=Se>>>4;Se||T(3),f+=Se&15;var k=Wn[Ce];if(Ce>3){var G=St[Ce];k+=Me(r,f)&(1<<G)-1,f+=G}if(f>ge){n&&T(0);break}e&&o(d+131072);for(var Be=d+Ye;d<Be;d+=4)t[d]=t[d-k],t[d+1]=t[d+1-k],t[d+2]=t[d+2-k],t[d+3]=t[d+3-k];d=Be}}i.l=w,i.p=ye,i.b=d,i.f=u,w&&(u=1,i.m=R,i.d=C,i.n=Y)}while(!u);return d==t.length?t:de(t,0,d)};var Gn=new E(0);var Kn=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&T(6,"invalid gzip data");var t=r[3],i=10;t&4&&(i+=r[10]|(r[11]<<8)+2);for(var a=(t>>3&1)+(t>>4&1);a>0;a-=!r[i++]);return i+(t&2)};var V=function(){function r(t){this.s={},this.p=new E(0),this.ondata=t}return r.prototype.e=function(t){this.ondata||T(5),this.d&&T(4);var i=this.p.length,a=new E(i+t.length);a.set(this.p),a.set(t,i),this.p=a},r.prototype.c=function(t){this.d=this.s.i=t||!1;var i=this.s.b,a=Bn(this.p,this.o,this.s);this.ondata(de(a,i,this.s.b),this.d),this.o=de(a,this.s.b-32768),this.s.b=this.o.length,this.p=de(this.p,this.s.p/8|0),this.s.p&=7},r.prototype.push=function(t,i){this.e(t),this.c(i)},r}();var qn=function(){function r(t){this.v=1,V.call(this,t)}return r.prototype.push=function(t,i){if(V.prototype.e.call(this,t),this.v){var a=this.p.length>3?Kn(this.p):4;if(a>=this.p.length&&!i)return;this.p=this.p.subarray(a),this.v=0}i&&(this.p.length<8&&T(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),V.prototype.c.call(this,i)},r}();var zn=function(){function r(t){this.v=1,V.call(this,t)}return r.prototype.push=function(t,i){if(V.prototype.e.call(this,t),this.v){if(this.p.length<2&&!i)return;this.p=this.p.subarray(2),this.v=0}i&&(this.p.length<4&&T(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),V.prototype.c.call(this,i)},r}();var Ot=function(){function r(t){this.G=qn,this.I=V,this.Z=zn,this.ondata=t}return r.prototype.push=function(t,i){if(this.ondata||T(5),this.s)this.s.push(t,i);else{if(this.p&&this.p.length){var a=new E(this.p.length+t.length);a.set(this.p),a.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var e=this,n=function(){e.ondata.apply(e,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(n):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(n):new this.Z(n),this.s.push(this.p,i),this.p=null}}},r}();var jn=typeof TextDecoder!="undefined"&&new TextDecoder,Zn=0;try{jn.decode(Gn,{stream:!0}),Zn=1}catch{}var It="./perspective_viewer_bg.wasm";async function $n(){return new URL(It,import.meta.url)}var xt=$n();window.addEventListener("unhandledrejection",r=>{r.reason?.message==="View method cancelled"&&r.preventDefault()});function Fe(r){return new Uint32Array(r.slice(0,4))[0]==559903}async function Jn(){let r=await xt,t=[],i=0,a=new Ot(o=>{o&&(i+=o.byteLength,t.push(o))});if(r instanceof URL||typeof r=="string"){let u=(await fetch(r.toString())).body?.getReader(),f=0;if(u!==void 0)for(;;){let{value:d,done:w}=await u.read();if(w||d===void 0)break;f===0&&Fe(d?.buffer)||f===1?(f=1,a.push(d,w)):(f=2,i+=d.byteLength,t.push(d))}}else if(r instanceof Uint8Array)Fe(r.buffer)?a.push(r,!0):(i=r.byteLength,t=[r]);else{let o=new Uint8Array(r);Fe(r)?a.push(o,!0):(i=o.byteLength,t=[o])}let e=0,n=new Uint8Array(i);for(let o of t)n.set(o,e),e+=o.byteLength;return await xe(n),mt(),U}var Re=Jn();var he=class extends HTMLElement{constructor(){super();this.__load_wasm()}async __load_wasm(){await Re,this._instance===void 0&&(this._instance=new A(this))}},er=A.prototype,tr=Object.getOwnPropertyNames(er);for(let r of tr)Object.defineProperty(he.prototype,r,{value:async function(...t){return await this.__load_wasm(),await this._instance[r].call(this._instance,...t)}});for(let r of["registerPlugin","getExprTKCommands"])Object.defineProperty(he,r,{value:async function(...t){let i=await Re;return i[r].call(i,...t)}});customElements.define("perspective-viewer",he);var Fr={};export{Oe as HTMLPerspectiveViewerPluginElement,yr as convert,Fr as default};
//# sourceMappingURL=perspective-viewer.js.map
